<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <button onclick="goHome()">返回主页</button>
    <title>加密解密工具</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        textarea { width: 100%; height: 100px; }
        select { width: 100%; }
        button { margin-top: 10px; }
    </style>
</head>
<body>
    <h1>AES&DES&Rabbit&TripleDES-工具</h1>
    <select id="cipher">
        <option value="AES">AES</option>
        <option value="DES">DES</option>
        <option value="Rabbit">Rabbit</option>
        <option value="TripleDES">Triple DES</option>
    </select>
    
    <h3>输入文本:</h3>
    <textarea id="inputText"></textarea>
    
    <h3>密钥:</h3>
    <input type="text" id="key" placeholder="请输入密钥" />

    <button onclick="encrypt()">加密</button>
    <button onclick="decrypt()">解密</button>

    <h3>输出结果:</h3>
    <textarea id="outputText"></textarea>

    <script>
        
    // 定义加密函数
        function encrypt() {
            const cipher = document.getElementById('cipher').value;// 获取用户选择的加密算法
            const key = document.getElementById('key').value;// 获取用户输入的密钥
            const inputText = document.getElementById('inputText').value;// 获取用户输入的待加密文本
    
    // 初始化加密后的文本
            let encryptedText;

    // 根据用户选择的加密算法进行加密
            switch (cipher) {
                case 'AES':
                    encryptedText = CryptoJS.AES.encrypt(inputText, key).toString();// 使用AES算法加密文本
                    break;
                case 'DES':
                    encryptedText = CryptoJS.DES.encrypt(inputText, key).toString();// 使用DES算法加密文本
                    break;
                case 'Rabbit':
                    encryptedText = CryptoJS.Rabbit.encrypt(inputText, key).toString();// 使用Rabbit算法加密文本
                    break;
                case 'TripleDES':
                    encryptedText = CryptoJS.TripleDES.encrypt(inputText, key).toString();// 使用TripleDES算法加密文本
                    break;
            }

    // 将加密后的文本显示在输出框中
            document.getElementById('outputText').value = encryptedText;
        }

    // 定义解密函数
        function decrypt() {
            const cipher = document.getElementById('cipher').value;// 获取用户选择的加密算法
            const key = document.getElementById('key').value;// 获取用户输入的密钥
            const encryptedText = document.getElementById('inputText').value;// 获取用户输入的待解密文本

    // 初始化解密后的文本
            let decryptedText;

    // 根据用户选择的加密算法进行解密，并指定字符编码为UTF-8
            switch (cipher) {
                case 'AES':
                    decryptedText = CryptoJS.AES.decrypt(encryptedText, key).toString(CryptoJS.enc.Utf8);// 使用AES算法解密文本
                    break;
                case 'DES':
                    decryptedText = CryptoJS.DES.decrypt(encryptedText, key).toString(CryptoJS.enc.Utf8);// 使用DES算法解密文本
                    break;
                case 'Rabbit':
                    decryptedText = CryptoJS.Rabbit.decrypt(encryptedText, key).toString(CryptoJS.enc.Utf8);// 使用Rabbit算法解密文本
                    break;
                case 'TripleDES':
                    decryptedText = CryptoJS.TripleDES.decrypt(encryptedText, key).toString(CryptoJS.enc.Utf8);// 使用TripleDES算法解密文本
                    break;
            }

    // 将解密后的文本显示在输出框中
            document.getElementById('outputText').value = decryptedText;
        }

    // 定义返回主页函数
        function goHome() {
            window.location.href = "/";
        }
    </script>
</body>
</html>
